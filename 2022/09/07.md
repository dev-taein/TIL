> 2022-09-07
- Spring Boot + 템플릿 엔진
  - 템플릿 엔진
    - 지정된 템플릿 양식과 데이터가 합쳐져 HTML문서를 출력하는 소프트웨어, 웹사이트 화면을 어떤 형태로
      만들지 도와주는 양식이라고 생각 이해하기 쉽다.
    - 서버 템플릿 엔진과 클라이언트 템플릿 엔진으로 나누어진다.
    - 서버 템플릿 엔진
      - 종류 : JSP, Freemaker 등.. (JSP는 View의 역할만 하도록 구성할 경우에만 서버 템플릿 엔진이다.)
      - 서버 템플릿 엔진은 Java 코드를 문자열로 만든 후 해당 문자열을 HTML로 변환하여 브라우저로 전달한다.(SSR)
      - 해당 문자열을 받아서 HTML로 변환하고 브라우저에 전달한다.
      - 브라우저는 문자열을 받아서 화면에 표시한다. 
    - 클라이언트 템플릿 엔진
      - 종류 : React, Vue 등..
      - 클라이언트 템플릿 엔진은 SPA(Single Page Application)를 이용하여 브라우저에 화면은 생성하게 된다.<br/>
        즉, 이미 서버에서 벗어난 상태이고 화면만 보여주고 서버 안에서 JSON이나 XML의 형식으로 데이터(API)를 전달한다.(CSR)<br/>
      - 브라우저는 JSON이나 XML의 형태의 데이터를 받아서 HTML을 만들고 이를 화면에 표시한다.
        (React나 Vue도 서버에서 렌더링을 할 수 있다고 하지만 스프링부트, 자바스크립트 프레임워크에 대한 이해가 높아졌을 때
        시도하는 것이 좋다고 한다.)
  - java 템플릿 엔진
    - JSP, Velocity
      - 제약사항이 많음
      - 현재 스프링 진영에서 권장하지 않은 방식
    - Thymeleaf
      - 현재 스프링에서 권장하는 방식
      - 문법이 어렵고 태그를 속성으로 사용함
    - FreeMaker
      - 너무 많은 기능을 지원함, 오히려 자유도가 높아 잘 다루지 못할 경우 비즈니스 로직
        이 추가되는 경우가 발생할 우려가 있다.
    - Mustache
      - Ruby, JS, Python, Java 등 대부분의 언어를 지원함.
      - 문법이 다른 템플릿 엔진들에 비해 심플하다.
      - 로직 코드 사용 불가능, view와 서버의 역할이 명확히 분리가 가능함
      - Mustache.java와 Mustache.js 2가지가 다 있기 때문에 하나의 문법으로
        클라이언트, 서버 템플릿 모두 사용가능하다.
- 어떤 템플릿 엔진을 선택할지 고민이라면 개발하려는 애플리케이션의 환경과 개발자의 기술에 따라
  가장 효율적이라고 판단되는 것을 선택하는 것이 좋다.<br/>
  보통 Thymeleaf + Bootstrap이나 Mustache가 가장 좋은 방법이라고 생각한다.<br/>
  Thymeleaf는 차후에 react같은 클라이언트 템플릿으로 업그레이드 할 수 있고<br/>
  개발 문서가 많이 존재한다.
---
- SEO(검색엔진최적화)
  - 검색엔진이 웹을 크롤링 하면서 페이지에 컨텐츠 색인을 생성하는 과정
---
- CSR, SSR의 차이
  - CSR(Client Side Rendering)
    - SPA방식
  - SSR(Server Side Rendering)
    - MPA 방식
  - 웹페이지 로딩 시간
    - 첫 페이지 로딩시간
      - CSR의 경우 HTML,CSS와 모든 스크립트들을 한 번에 불러온다.
      - SSR은 필요한 부분의 HTML과 스크립트만 불러온다.
      - 따라서 SSR이 더 빠르다.
    - 나머지 로딩 시간
      - 첫 페이지를 로딩한 후, 사이트의 다른 곳으로 이동하는 식의 동작을 가정하면<br/>
      CSR은 이미 첫 페이지 로딩할 때 나머지 부분을 구성하는 코드를 받아왔기 때문에 빠르다
      - 반면 SSR은 첫 페이지를 로딩한 과정을 정확하게 다시 실행한다. 그래서 더 느리다.
  - SEO대응
    - 검색엔진은 자동화된 로봇인 '크롤러'로 웹사이트들을 읽는다.<br/>
    CSR은 자바스크립트를 실행시켜 동적으로 컨텐츠가 생성되기 때문에 자바스크립트가 실행 되어야
    meatadata가 바뀐다.(이전 크롤러들은 자바스크립트를 실행시키지 않았었기 때문에 SEO최적화가 필수적이었다, 구글이 그 트렌드를 바꾸고 있다고 한다)<br/>
    SSR은 애초에 서버 사이드에서 컴파일되어 클라이언트로 넘어오기 때문에 크롤러에 대응하기 용이하다.
  - 서버 자원 사용
    - SSR이 서버 자원을 더 많이 사용한다. 매번 서버에 요청을 하기 때문이다.
    - CSR은 클라이언트에 일감을 몰아주기 때문에 서버에 부하가 적다.
  
- SSR을 사용해야할 경우
  - 네트워크가 느릴 때
  - SEO가 필요할때
  - 최초 로딩이 빨라야할 때
  - 메인 스크립트가 크고 로딩이 매우 느릴 때 (CSR은 메인스크립트가 로딩이 끝나면 API로 데이터 요청을 보낸다)
  - 웹 사이트가 상호작용이 별로 없을 때
- CSR을 사용해야할 경우
  - 네트워크가 빠를 때
  - 서버의 성능이 좋지 않을 때
  - 사용자에게 보여줘야 하는 데이터의 양이 많을 때 (로딩창을 띄울 수 있다)
  - 메인 스크립트가 가벼울 때
  - SEO가 필요 없을 때
  - 웹 어플리케이션이 상호작용이 많을 때 (아예 렌더링이 되지 않아서 사용자의 행동을 막는 것이 유리할 수 있다.)
---
- SPA와 MPA
  - SPA(Single Page Application)
    - 하나의 페이지로 구성된 웹 어플리케이션
    - 브라우저에 최초에 한번 페이지 전체를 로드하고, 이후부터는 특정 부분만 ajax를 통해
    데이터를 바인딩하는 방식이다.
    - react, vue, 앵귤러 등 자바스크립트 프레임워크 등이 SPA를 지원한다.
    - CSR방식
  - MPA(Multi PAge Application)
    - 여러 페이지로 구성된 웹 어플리케이션
    - 사용자의 클릭과 같은 인터렉션이 발생할 때마다 서버로부터 새로운 html을
    받아와서 해당 링크로 이동하여 페이지 전체를 새로 렌더링하는 전통적인 웹 페이지 구성 방식이다.
    - SSR방식
---
